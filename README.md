---
title: Android四种启动模式
date: 2017-10-30 09:26:51
tags:
categories: Android
---
<img src="http://owiq5fnuk.bkt.clouddn.com/11.jpg"/>
<center>Android启动模式在开发中经常有使用到，因此有必要系统的梳理一下。</center>
<!-- more -->
android:launchMode="standard"
默认的启动模式，不指定启动模式或启动模式为standard都是默认的启动模式。每次都会生成新的实例，且该实例将处于当前栈顶。<br>

android:launchMode="singletop"
只检查栈顶是否存在该实例，若有，则不生成新的实例，若没有，则生成新的实例，且该实例处于当前栈顶。
使用场景：接收到通知，如推送，需要打开一个新的临时的界面，呈现在栈顶，并且只需要一个实例在栈顶位置。<br>

android:launchMode="singleTask"
检查当前整个栈是否有该实例，若有则将其调至栈顶，且处于其上的所有activity的实例出栈；若没有，则生成新的实例，且该实例将处于栈顶。
使用场景：程序主入口或很多应用都会跳转过来的，比如浏览器的主界面或词典翻译主界面，如果多个其他应用都想要通过链接打开浏览器，或通过词汇打开字典，只会启动该实例一次，并将其上面的实例全部出栈。
注意：使用singleTask的Activity最好是处于栈底的元素，因为其他app跳转到你的这个界面上后，当他按返回键时肯定是想回自己的应用，如果你的这个界面不在栈底，意味着按下返回键会调出你这个界面下面的你自己的Activity实例，这肯定是用户不想要的，如果你的这个界面是处于你的栈底的话，其他app打开你的这个界面时，你这个界面上的所有其他实例都会出栈，那么按下返回键，则顺理成章的回到了之前的应用。<br>

android:launchMode="singleInstance"
另开一个新的栈，和跳转前的实例不在同一个栈，并且这个栈里只有它一个实例，并且整个操作系统里面只有这一个实例。
使用场景：需要单独显示的界面，如闹铃界面，与主程序分离开，有闹钟提示时，只需要调出这一个实例，而不影响程序中其他栈的Activity实例的栈位置。当然还有呼叫来电界面。singleInstance其实就是singleTask元素处于栈底的一种情况。